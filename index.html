<!doctype html>
<html lang="pl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Notatki z PodrÃ³Å¼y</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2563eb">
</head>
<body>
    <div id="offline-indicator">Brak poÅ‚Ä…czenia z sieciÄ….</div>

    <dialog id="app-modal">
        <div class="card-header" style="background: var(--primary); color: white; padding: 10px; text-align: center; font-weight: bold;" id="modal-title">Komunikat</div>
        <div class="modal-content">
            <p id="modal-message"></p>
            <div class="modal-actions">
                <button id="btn-modal-cancel" class="btn outline hidden">Anuluj</button>
                <button id="btn-modal-confirm" class="btn primary">OK</button>
            </div>
        </div>
    </dialog>

    <div class="container">
        <header>
            <h1><img src="assets/icon-192.png" width="24" style="border-radius: 4px;"> PodrÃ³Å¼nik</h1>
            <div class="nav-buttons">
                <button id="btn-go-settings" class="btn outline hidden">Ustawienia</button>
                <button id="btn-go-list" class="btn outline hidden">â† WrÃ³Ä‡</button>
            </div>
        </header>

        <section id="view-list" class="hidden">
            <input id="search-input" class="search-bar" placeholder="Szukaj notatek...">
            <div id="notes-list-container"></div>
            <button id="btn-new-note" class="fab">+</button>
        </section>

        <section id="view-editor" class="hidden">
            <div class="card">
                <input id="note-title" placeholder="TytuÅ‚ miejsca...">
                <small id="note-date" class="text-muted" style="display:block; margin-bottom: 5px;">Nowa notatka</small>
                
                <div id="geo-preview" class="hidden">
                    <span id="geo-text">ğŸ“ Lokalizacja</span> <button id="btn-remove-geo" title="UsuÅ„ lokalizacjÄ™">&times;</button> </div>

                <textarea id="note-body" placeholder="Opisz swoje wraÅ¼enia..."></textarea>
                
                <img id="note-image-preview" class="captured-image hidden">
                
                <div id="camera-interface" class="camera-wrapper">
                    <video id="video-feed" autoplay playsinline></video>
                    <button id="btn-take-photo" class="btn outline full-width" style="border-radius: 0; background: white;">ZrÃ³b zdjÄ™cie</button>
                </div>

                <div class="btn-group">
                    <button id="btn-save" class="btn primary" style="flex-grow: 2;">Zapisz</button>
                    <button id="btn-camera" class="btn outline icon">ğŸ“·</button>
                    <button id="btn-speech" class="btn outline icon">ğŸ¤</button>
                    <button id="btn-geo" class="btn outline icon">ğŸ“</button>
                    <button id="btn-delete" class="btn danger icon">ğŸ—‘</button>
                </div>
            </div>
            <canvas id="camera-canvas" class="hidden"></canvas>
        </section>

        <section id="view-settings" class="hidden">
            <div class="card">
                <h3 style="margin-bottom: 1rem;">Ustawienia</h3>
                <p class="text-muted" style="margin-bottom: 20px;">ZarzÄ…dzaj danymi aplikacji.</p>
                <button id="btn-full-reset" class="btn danger full-width">UsuÅ„ wszystkie notatki</button>
            </div>
        </section>
    </div>

    <script type="module" src="js/app.js"></script>
    <script>
        if ('serviceWorker' in navigator) navigator.serviceWorker.register('./sw.js');
    </script>
</body>
</html>